<!DOCTYPE html><html lang="zh-TW" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>在 RetroArch 上遊玩 JAR 的心得 | Wind Dream</title><meta name="author" content="Magstic"><meta name="copyright" content="Magstic"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="FreeJ2ME-Plus 是一個適用於 RetroArch 的 J2ME 核心，由 FreeJ2ME Fork 而來。相比於 J2ME-Loader 等成熟的專案，FJ-Plus 的兼容性依然有待提升。但因 AShiningRay 先生對這個專案的忠實維護，使得這個專案幾乎每隔一段時間，就有令人驚嘆的改進。現在，我決定寫下這篇貼文，來介紹如何在 RetroArch 上執行 J2ME 核心。">
<meta property="og:type" content="article">
<meta property="og:title" content="在 RetroArch 上遊玩 JAR 的心得">
<meta property="og:url" content="https://magstic.art/2025/04/22/10/index.html">
<meta property="og:site_name" content="Wind Dream">
<meta property="og:description" content="FreeJ2ME-Plus 是一個適用於 RetroArch 的 J2ME 核心，由 FreeJ2ME Fork 而來。相比於 J2ME-Loader 等成熟的專案，FJ-Plus 的兼容性依然有待提升。但因 AShiningRay 先生對這個專案的忠實維護，使得這個專案幾乎每隔一段時間，就有令人驚嘆的改進。現在，我決定寫下這篇貼文，來介紹如何在 RetroArch 上執行 J2ME 核心。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://magstic.top/Aojiru/name/052mokou3%E3%80%8C%E8%97%A4%E5%8E%9F%E3%80%8C%E6%BB%85%E7%BD%AA%E5%AF%BA%E9%99%A2%E5%82%B7%E3%80%8D%E3%80%8D.jpg">
<meta property="article:published_time" content="2025-04-21T22:59:28.000Z">
<meta property="article:modified_time" content="2025-04-21T14:59:02.818Z">
<meta property="article:author" content="Magstic">
<meta property="article:tag" content="J2ME">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://magstic.top/Aojiru/name/052mokou3%E3%80%8C%E8%97%A4%E5%8E%9F%E3%80%8C%E6%BB%85%E7%BD%AA%E5%AF%BA%E9%99%A2%E5%82%B7%E3%80%8D%E3%80%8D.jpg"><link rel="shortcut icon" href="https://magstic.art/images/avatar.jpg"><link rel="canonical" href="https://magstic.art/2025/04/22/10/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":0,"unescape":false,"languages":{"hits_empty":"找不到您查詢的內容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":120},
  copy: {
    success: '複製成功',
    error: '複製錯誤',
    noSupport: '瀏覽器不支援'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '剛剛',
    min: '分鐘前',
    hour: '小時前',
    day: '天前',
    month: '個月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '在 RetroArch 上遊玩 JAR 的心得',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-04-21 14:59:02'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/custom.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://magstic.art/images/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 歸類</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-paper-plane"></i><span> 關於</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-light fa-earth-americas"></i><span> 聆風</span></a></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw fas fa-shoe-prints"></i><span> 足跡</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Wind Dream"><span class="site-name">Wind Dream</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜尋</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 歸類</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-paper-plane"></i><span> 關於</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-light fa-earth-americas"></i><span> 聆風</span></a></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw fas fa-shoe-prints"></i><span> 足跡</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">在 RetroArch 上遊玩 JAR 的心得</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2025-04-21T22:59:28.000Z" title="發表於 2025-04-21 22:59:28">2025-04-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2025-04-21T14:59:02.818Z" title="更新於 2025-04-21 14:59:02">2025-04-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A1%B5%E5%B0%81/">塵封</a></span></div><div class="meta-secondline"></div></div></div><article class="post-content" id="article-container"><hr>
<p><em>FreeJ2ME-Plus 是一個適用於 RetroArch 的 J2ME 核心，由 FreeJ2ME Fork 而來。</em><br><em>相比於 J2ME-Loader 等成熟的專案，FJ-Plus 的兼容性依然有待提升。但因 AShiningRay 先生對這個專案的忠實維護，使得這個專案幾乎每隔一段時間，就有令人驚嘆的改進。</em><br><em>現在，我決定寫下這篇貼文，來介紹如何在 RetroArch 上執行 J2ME 核心。</em></p>
<hr>
<h2 id="確認需求"><a href="#確認需求" class="headerlink" title="確認需求"></a>確認需求</h2><p>在正式開始前，請先確認你是否真的適合這個核心。<br>如果您只是想簡單體驗 J2MEGAME，那麽 Android 上的 J2ME-Loader 將是更好的選擇。<br>如果您只是想在 PC 端遊玩 J2MEGAME。那麽 KEnnmod 或是 VM + JL 將是你的不二選擇。</p>
<p><strong>缺陷</strong></p>
<ul>
<li>老遊戲的支援偏弱</li>
<li>3D 支援極弱</li>
<li>無 AMR 媒體支援</li>
<li>無中文輸入法[^1]</li>
<li>部分簡訊操作可能失敗[^2]</li>
<li>……<br><strong>優勢</strong></li>
<li>最棒的著色器支援</li>
<li>靈活的配置檔管理</li>
<li>自訂 SF2 音源</li>
<li>自訂字型[^3]</li>
</ul>
<p>[^1]: 為了確保 FJ-Plus 的跨軟體性（AWT&#x2F;Libretro&#x2F;SDL2），未來可能也不會支援。<br>[^2]: 如 CWA 的《星際傳説-命運輪回》。<br>[^3]: 現版本不支援字體自訂，可透過後文中的『自訂字型』部分獲取支援。</p>
<hr>
<h2 id="準備環境"><a href="#準備環境" class="headerlink" title="準備環境"></a>準備環境</h2><p><strong>系統</strong>：<br>Windows &#x2F; Linux[^4]<br><strong>環境</strong>：<br>Adoptium OpenJRE 8[^5]<br>硬體：<br>RetroArch 支援的遊戲手把[^6]</p>
<p>[^4]: 現有的核心依賴 Java 環境，故不可在其他端使用。<br>[^5]: Oracle JRE 的後期版本引入了 <code>javaw.exe</code> 引導程式，若在 RetroArch 中關閉遊戲，會丟棄 <code>javaw.exe</code> 進程。<br>[^6]: 非必須，但這能為大部分遊戲提供良好的控制體驗。</p>
<hr>
<h2 id="編譯核心"><a href="#編譯核心" class="headerlink" title="編譯核心"></a>編譯核心</h2><p>您不需要學習如何編譯核心，因為該專案提供了自動編譯檔。<br>造訪 FJ-Plus 的 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Magstic/freej2me-plus_CN/releases">Releases</a>，點擊『HERE』即可下載自動編譯的 <code>main jars</code> 和  <code>libretro cores</code>。</p>
<p>現在，我們獲得了兩個 <code>ZIP</code> 壓縮檔，這在下個章節將會使用到。</p>
<p>在本節，我們將學習如何手動編譯核心——這不是必須，但卻很有益處。<br>本節内容主要面對 Windows 用戶。Linux 用戶……我不相信你不會編譯 XD</p>
<h3 id="編譯-FreeJ2ME-Jar"><a href="#編譯-FreeJ2ME-Jar" class="headerlink" title="編譯 FreeJ2ME Jar"></a>編譯 FreeJ2ME Jar</h3><p>為了完成編譯，除了 Java 環境，您仍需 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://ant.dev.org.tw/manual/install.html">Apache Ant</a>。</p>
<ol>
<li>下載 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://ant.dev.org.tw/bindownload.cgi">Apache Ant</a>，並解壓至 C 盤下；</li>
<li>添加系統變數：【變數名稱：ANT_HOME】【變數值：C:\Apache Ant 的資料夾名】；</li>
<li>在系統變數的『PATH』中新增：【C:\Program Files\Apache Ant 的資料夾名\bin】；</li>
<li>在 CMD 中鍵入 <code>ant -version</code>，如果安裝成功，會彈出 <code>Apache Ant(TM)......</code>。<br>現在，我們可以正式使用編譯命令。</li>
</ol>
<p>在編譯之前，我們需要將原始碼下載到本地並解壓【Code → Download Zip】。</p>
<p>打開命令提示字元，執行以下操作（<code>freej2me/</code>替換為專案的絕對根路徑）：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">cd</span> freej2me/</span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; ant</span><br></pre></td></tr></table></figure>

<p>編譯完成後，其結果在根路徑下出現的 <code>build</code> 資料夾:</p>
<blockquote>
<p><code>freej2me.jar</code> -&gt; 獨立的 AWT 可執行檔，目前主要的獨立版本。</p>
<p><code>freej2me-lr.jar</code> -&gt; Libretro 核心依賴，需放置在 RetroArch 根路徑的 <code>system</code> 資料夾下。</p>
<p><code>freej2me-sdl.jar</code> -&gt; SDL2 可執行檔，支援 libTAS 和 手把搖桿。在未來可能會成為獨立版本。</p>
</blockquote>
<p>我們主要使用 RetroArch，因此只保留 <code>freej2me-lr.jar</code> 這個核心依賴即可。<br>不過如若想在進入 RetroArch 前測試遊戲兼容度，那麽保留 <code>freej2me.jar</code> 也無妨。</p>
<h3 id="編譯-Libretro-核心"><a href="#編譯-Libretro-核心" class="headerlink" title="編譯 Libretro 核心"></a>編譯 Libretro 核心</h3><p>若想在 Windows 上編譯核心，您需要使用 mingw 或 MSYS2 64 模擬 Linux 環境。<br>本指南使用  <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.msys2.org/">MSYS2-x86_64</a>。常規情況下，您的所有編譯工作將在 <code>C:\msys64\home\UserName</code> 下完成。[^7]</p>
<p>不過在此之前，我們需要在 MSYS2 中安裝編譯的依賴：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; pacman -S mingw-w64-ucrt-x86_64-gcc</span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; pacman -S make</span><br></pre></td></tr></table></figure>

<p>我們將下載好的Zip專案解壓到上述的編譯工作路徑下，如 <code>C:\msys64\home\UserName\freej2me-plus（專案根路徑）</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; cd freej2me-plus/src/libretro</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; make</span><br></pre></td></tr></table></figure>

<p>編譯完成後，我們可以在 <code>src/libretro/</code> 下找到 <code>freej2me_libretro.dll</code> 檔案。[^8]</p>
<p>[^7]: 如果不改動配置，那麽 <code>C:\msys64\home\UserName</code> 就是預設路徑。<br>[^8]: Linux 編譯後，獲得的并非 <code>.dll</code> 檔，而是 <code>.so</code> 檔。</p>
<hr>
<h2 id="裝載核心"><a href="#裝載核心" class="headerlink" title="裝載核心"></a>裝載核心</h2><p>現在，解壓上文中的兩個 <code>ZIP</code> 檔，我們會得到核心。</p>
<p>FreeJ2ME-Plus 的核心分為三部分：</p>
<blockquote>
<p>核心檔案：<code>freej2me_libretro.dll</code> &#x2F; <code>freej2me_libretro.so</code><br>核心依賴：<code>freej2me-lr.jar</code><br>核心描述：<code>freej2me_libretro.info</code></p>
</blockquote>
<p>在解壓出的核心中，<code>freej2me_libretro.so</code> 是 Linux 核心檔，按需選擇即可[^9]。<br>至於核心描述的 <code>freej2me_libretro.info</code> 檔，則在原始碼的 <code>src\libretro</code> 路徑下。</p>
<p>我們將上述三個檔案放入 RetroArch 對應的資料夾中：</p>
<blockquote>
<p>核心檔案：<code>cores</code><br>核心依賴：<code>system</code><br>核心描述：<code>info</code></p>
</blockquote>
<p>現在，我們打開 RetroArch，便可使用 FreeJ2ME-Plus 核心了。</p>
<p>[^9]: 在 Linux 編譯下，獲得的是 so 核心。</p>
<hr>
<h2 id="匯入遊戲"><a href="#匯入遊戲" class="headerlink" title="匯入遊戲"></a>匯入遊戲</h2><p>JAR 檔因其易於修改的性質，導致同一個遊戲可能有十幾種變種。[^10]<br>『掃描資料夾』這種方法依賴資料庫的健壯，RetroArch 現有的 J2ME 殘缺資料庫顯然無法滿足我們的需求——當然，因為其變種繁多的原因，構建一個事無巨細的資料庫也幾近不可能……</p>
<p><strong>因此——我們匯入 JAR 檔的主要方式是『手動掃描』。</strong></p>
<h3 id="管理-JAR-檔"><a href="#管理-JAR-檔" class="headerlink" title="管理 JAR 檔"></a>管理 JAR 檔</h3><p>既然要掃描，那麽我們就必須 <strong>在外部嚴謹管理自己的 JAR 檔</strong>。<br>按照『熒幕分辨率』的方式進行分類是最優的方式，這是一個例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Mobile - J2ME</span><br><span class="line">├── 128</span><br><span class="line">├── 128SQ</span><br><span class="line">├── 176_208</span><br><span class="line">├── 176_220</span><br><span class="line">├── 208_320</span><br><span class="line">├── QVGA</span><br><span class="line">└── 360</span><br></pre></td></tr></table></figure>

<p>在此以外，因為 RetroArch 的限制，我們匯入遊戲的命名也必須非常講究。</p>
<ul>
<li>若命名中有中文，則不允許出現連字符號『-』</li>
<li>命名之中允許出現底線『_』</li>
<li>……<br>當然，異常情況不可避免。如果遇見的話，主要表現就是 RetroArch 進程凍結。<a href="%E5%9C%A8%E6%89%93%E9%96%8B%E9%81%8A%E6%88%B2%E6%99%82%E7%9A%84%E3%80%8E%E9%81%8A%E6%88%B2%E5%90%8D%E6%A9%AB%E5%B9%85%E3%80%8F%E8%99%95%E5%87%8D%E7%B5%90%E3%80%82">^11</a><br>這時，我們把檔名修改為純英文即可，如『傲世奇俠傳.jar』修改為『Legend of the Proud Hero.jar』。</li>
</ul>
<h3 id="開始掃描"><a href="#開始掃描" class="headerlink" title="開始掃描"></a>開始掃描</h3><p>如果你整理好了自己的 JAR 檔，那我們便開始 <strong>初次手動掃描</strong> 吧。</p>
<ol>
<li><strong>指定資料夾</strong>：選擇『Mobile - J2ME』路徑後，點擊『從此處開始掃描全部檔案』；</li>
<li><strong>設定列表名稱</strong>：捲動列表，點擊『Mobile - J2ME』。若您的資料夾名稱本來就是『Mobile - J2ME』，則直接進行下一步；[^12]</li>
<li><strong>指定核心副檔名</strong>：點擊『Mobile - J2ME（FreeJ2ME-Plus）』。若您指定的路徑内僅有 JAR 檔，則直接進行下一步；</li>
<li><strong>包含所有資料夾</strong>：勾選即可；</li>
<li><strong>取代現有列表</strong>：勾選即可；</li>
<li><strong>開始掃描</strong>：確認以上步驟完成後，點擊即可開始掃描。</li>
</ol>
<p>現在，我們會發現 RetroArch 之中多了一串 Game 列表，這便是我們所擁有的 J2ME 檔。</p>
<p>如果後續在外部刪除或是新增了 JAR 檔，則重複上述步驟即可。<br>唯一不同的是，第五步的『取代現有列表』要替換為『<strong>驗證現有條目</strong>』。<a href="%E4%BD%BF%E7%94%A8%E3%80%8E%E5%8F%96%E4%BB%A3%E7%8F%BE%E6%9C%89%E5%88%97%E8%A1%A8%E3%80%8F%E4%BA%A6%E5%8F%AF%EF%BC%8C%E4%BD%86%E9%80%99%E5%B0%87%E4%BD%BF%E9%81%8A%E6%88%B2%E9%81%8B%E8%A1%8C%E6%99%82%E9%96%93%E7%AD%89%E8%B3%87%E6%96%99%E6%B8%85%E7%A9%BA%E3%80%82">^13</a></p>
<p>[^10]: 現有的 Mobile - J2ME 資料庫為 <code>68650 KB</code>，遠比其他資料庫龐大，但這依舊貧瘠。</p>
<p>[^12]: RetroArch 為 JAR 設計了專屬圖示，僅有該名字可使其顯示。</p>
<hr>
<h2 id="參數配置"><a href="#參數配置" class="headerlink" title="參數配置"></a>參數配置</h2><p>如果使用預設參數進行遊戲，那麽我們的遊戲體驗不會獲得任何的提升。<br>在本章節，我們將對 RetroArch 的各項參數進行配置，以獲得良好的遊玩體驗。</p>
<h3 id="控制配置"><a href="#控制配置" class="headerlink" title="控制配置"></a>控制配置</h3><p>FreeJ2ME-Plus 把 控制器參數寫入了 RetroArch 的前端中。</p>
<p>現在，隨意打開一個 JAR 檔，緊接著按下 <code>F1</code> 鍵呼出  RetroArch 系統選單。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">系統選單</span><br><span class="line">├── 繼續</span><br><span class="line">├── 重開</span><br><span class="line">├── 關閉</span><br><span class="line">├── 核心選項</span><br><span class="line">├── 控制器（核心預設）</span><br><span class="line">├── 熒幕覆蓋</span><br><span class="line">└── 專用主題</span><br></pre></td></tr></table></figure>

<p>打開『控制器（核心預設）』：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">控制器（核心預設）</span><br><span class="line">├── 管理控制器</span><br><span class="line">├── 連發設定</span><br><span class="line">├── 連接埠 1 控制器</span><br><span class="line">├── 連接埠 2 控制器</span><br><span class="line">└── ……</span><br></pre></td></tr></table></figure>

<p>選擇『連接埠 1 控制器』進入，根據自我手感習慣兼喜好配置即可。</p>
<p>配置完成後，返回『控制器（核心預設）』，打開『管理控制器』：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">管理控制器</span><br><span class="line">├── 已載入控制器</span><br><span class="line">├── 載入控制器</span><br><span class="line">├── 儲存為項目控制器（該配置僅將被目前打開的遊戲讀取）</span><br><span class="line">├── 儲存為路徑控制器（目前打開的遊戲所處的路徑下的全部遊戲都將應用該配置）</span><br><span class="line">├── 儲存為核心控制器（FreeJ2ME 所運行的全部遊戲將使用該配置）</span><br><span class="line">└── ……</span><br></pre></td></tr></table></figure>

<p>選擇『儲存為核心控制器』後，全部的 JAR 檔將會應用剛才配置的控制器鍵值。</p>
<p>如果在未來遇見鍵值要求苛刻別扭的遊戲，可以打開這個遊戲，并按照以上步驟配置。[^14]<br>配置完成後，選擇『儲存為項目控制器』。這樣，便可在不影響全域的情況下，從而為個別遊戲的控制器鍵值進行單獨設定。</p>
<p>『儲存為路徑控制器』在控制器配置中是一個無用的選擇。因為在上文中，我們是按照 <strong>螢幕分辨率</strong> 對遊戲分類的。</p>
<p>根據遊戲的不同種類，為其配置不同的控制器也是可行的，但如此反而不利於我們接下來的其他配置。</p>
<p>這是我使用的控制器鍵值配置，可以作為參考：</p>
<table>
<thead>
<tr>
<th>手機 按鍵</th>
<th>XBox360 按鍵</th>
<th></th>
<th>手機 按鍵</th>
<th>XBox360 按鍵</th>
</tr>
</thead>
<tbody><tr>
<td>OK</td>
<td>A</td>
<td></td>
<td>#</td>
<td>RB</td>
</tr>
<tr>
<td>RSoft</td>
<td>B</td>
<td></td>
<td>UP</td>
<td>LJoy UP</td>
</tr>
<tr>
<td>LSoft</td>
<td>Back</td>
<td></td>
<td>DOWN</td>
<td>LJoy DOWN</td>
</tr>
<tr>
<td>0</td>
<td>Start</td>
<td></td>
<td>LEFT</td>
<td>LJoy LEFT</td>
</tr>
<tr>
<td>1</td>
<td>LT</td>
<td></td>
<td>RIGHT</td>
<td>LJoy RIGHT</td>
</tr>
<tr>
<td>3</td>
<td>RT</td>
<td></td>
<td>2</td>
<td>D-pad UP</td>
</tr>
<tr>
<td>7</td>
<td>X</td>
<td></td>
<td>4</td>
<td>D-pad LEFT</td>
</tr>
<tr>
<td>9</td>
<td>Y</td>
<td></td>
<td>6</td>
<td>D-pad RIGHT</td>
</tr>
<tr>
<td>*</td>
<td>LB</td>
<td></td>
<td>8</td>
<td>D-pad DOWN</td>
</tr>
<tr>
<td><em>Tip：離題：個人喜歡把 <code>F1</code> 鍵設定為『按壓左搖桿』，這點視個人習慣而來吧。</em></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>[^14]: 如音遊使用 456 打鍵、RPG 使用 1379 移動。</p>
<hr>
<h3 id="核心配置"><a href="#核心配置" class="headerlink" title="核心配置"></a>核心配置</h3><p>FreeJ2ME-Plus 可在 RetroArch 前端中配置遊戲的啟動參數。<br>現在，依舊是隨意打開一個 JAR 檔，然後按下 <code>F1</code> 鍵呼出  RetroArch 系統選單。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">系統選單</span><br><span class="line">├── 繼續</span><br><span class="line">├── 重開</span><br><span class="line">├── 關閉</span><br><span class="line">├── 核心選項</span><br><span class="line">├── 控制器（核心預設）</span><br><span class="line">├── 熒幕覆蓋</span><br><span class="line">└── 專用主題</span><br></pre></td></tr></table></figure>

<p>打開『核心選項』：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">核心選項</span><br><span class="line">├── 管理核心選項</span><br><span class="line">├── 系統</span><br><span class="line">│   ├── 解析度</span><br><span class="line">│   ├── 熒幕旋轉</span><br><span class="line">│   ├── 鍵值佈局</span><br><span class="line">│   ├── LCD 背光</span><br><span class="line">│   ├── FPS 限制</span><br><span class="line">│   ├── 模擬手機聲音</span><br><span class="line">│   ├── MIDI 音色庫</span><br><span class="line">│   └── 使用搖桿模擬鍵盤</span><br><span class="line">├── 高級</span><br><span class="line">│   ├── 光標類型</span><br><span class="line">│   └── ……</span><br><span class="line">├── 優化</span><br><span class="line">│   └── 無 Alpha 空白圖形</span><br><span class="line">└── 兼容</span><br><span class="line">    ├── 不對 Null 圖形抛出異常</span><br><span class="line">    └── 圖像重置時使用 clipRect 替代 setClip</span><br></pre></td></tr></table></figure>

<p><strong>解析度</strong>：選擇遊戲分辨率<br><strong>熒幕旋轉</strong>：根據需求打開&#x2F;關閉<br><strong>鍵值佈局</strong>：預設為 Nokia，根據需求選擇<br><strong>LCD 背光</strong>：為單色遊戲設計，運行非單色遊戲時必須關閉<br><strong>FPS 限制</strong>：建議限定為 60，一些老遊戲可設定為更低<br><strong>模擬手機聲音</strong>：建議打開，以模擬未受支援的媒體格式（如 <code>.AMR</code>），如果遇見錯誤可關閉<br><strong>MIDI 音色庫</strong>：打開後，在 <code>system/freej2me_system/customMIDI</code> 下放置 SF2 音源<br><strong>使用搖桿模擬鍵盤</strong>：建議關閉，但如果遊戲使用數字全鍵盤控制角色，那麽建議打開[^15]<br><strong>光標類型</strong>：建議選擇『觸摸模式』，需要如果遊戲需要縮放，可選擇『鼠標模式』<br><strong>優化&amp;兼容</strong>：建議全部關閉，如果遇見渲染異常，可酌情打開</p>
<p>配置完成後，返回『核心選項』，打開『管理核心選項』：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">管理核心選項</span><br><span class="line">├── 已載入核心選項</span><br><span class="line">├── 儲存為項目核心選項</span><br><span class="line">├── 儲存為路徑核心選項</span><br><span class="line">└── ……</span><br></pre></td></tr></table></figure>

<p>選擇『儲存為路徑核心選項』後，該 JAR 檔所處路徑下的其他 JAR 檔，在啟動時也均會自動載入此配置。</p>
<blockquote>
<p><strong>舉例</strong>：如果你打開了 QVGA 路徑下的某一遊戲，在完成配置後將其『儲存為路徑核心選項』，那麽，整個 QVGA 路徑下的遊戲便基本無需再配置了。</p>
</blockquote>
<p>這亦是上文中 <strong>使用分辨率分類遊戲</strong> 的主要原因。</p>
<p>在開始下文前，讓我們再打開其他路徑下的代表性遊戲，逐一配置其參數吧。</p>
<p>[^15] 如《Stranded（孤島餘生）》</p>
<hr>
<h3 id="縮放配置"><a href="#縮放配置" class="headerlink" title="縮放配置"></a>縮放配置</h3><p>在一般情況下，RetroArch 會根據 FJ-Plus 核心提供的解析度自動對畫面進行等比例縮放。<br>等比例縮放的做法是正確的，但<strong>如果您的 PC 分辨率過高，可能會造成畫面乃至字體的失真</strong>。</p>
<p>在這一章節中，我們需要去 手動調節 <strong>每一個分辨率顯示在熒幕上的尺寸</strong>。<br>本教程將以個人 PC 使用的 1920x1080 解析度去講述，請根據自己實際情況設定。</p>
<h4 id="QVGA"><a href="#QVGA" class="headerlink" title="QVGA"></a>QVGA</h4><p>QVGA，即 240x320，是 JAR 檔最常見的解析度。</p>
<p>打開一個隨意的 QVGA 遊戲，按下 <code>F1</code> 鍵呼出  RetroArch 系統選單。<br>按下控制器的『返回』鍵（XBox 360 手把為 B 鍵），來到『<strong>設定</strong>』選單：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">設定</span><br><span class="line">├── 選單</span><br><span class="line">├── 顯示</span><br><span class="line">├── 音效</span><br><span class="line">├── 輸入</span><br><span class="line">└── ……</span><br></pre></td></tr></table></figure>

<p>選擇『顯示』-『縮放』-『寬高比』：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">顯示</span><br><span class="line">├── 縮放</span><br><span class="line">│   ├── 整數縮放</span><br><span class="line">│   ├── 寬高比</span><br><span class="line">│   ├── 自訂寬度</span><br><span class="line">│   ├── 自訂高度</span><br><span class="line">│   └── ……</span><br><span class="line">├── 同步</span><br><span class="line">├── 全螢幕模式</span><br><span class="line">└── ……</span><br></pre></td></tr></table></figure>


<p>寬高比一般為 FreeJ2ME-Plus 核心提供，現在，我們將其設為『<strong>自訂</strong>』。<br>在 1920x1080 的解析度的範圍内，QVGA 的最佳縮放倍數為 2 倍（480x640）。</p>
<p>選擇『自訂寬度』，設定其值為『480』，『自訂高度』的值則設為『640』。</p>
<p>返回『<strong>設定</strong>』選單，選擇你所進入的 QVGA 遊戲：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">系統選單</span><br><span class="line">├── 繼續</span><br><span class="line">├── 重開</span><br><span class="line">├── 關閉</span><br><span class="line">├── 核心選項</span><br><span class="line">├── 控制器（核心預設）</span><br><span class="line">├── 熒幕覆蓋</span><br><span class="line">└── 專用主題</span><br></pre></td></tr></table></figure>

<p>打開『專用主題』，選擇『儲存為路徑專用主題』。<br>現在打開其他 QVGA 路徑下的遊戲時，也會自動載入該配置。</p>
<h4 id="其他解析度"><a href="#其他解析度" class="headerlink" title="其他解析度"></a>其他解析度</h4><p>其他解析度的整體流程也均以 QVGA 為准，這裡簡單寫下寬高值。<br>這些配置以 1920x1080 解析度為准，請根據自己的實際情況來設定。</p>
<p><strong>128x128</strong>：『自訂寬度：384』『自訂高度：384』<br><strong>128x160</strong>：『自訂寬度：384』『自訂高度：480』<br><strong>176x208</strong>：『自訂寬度：528』『自訂高度：624』<br><strong>360x640</strong>：『自訂寬度：1280』『自訂高度：720』</p>
<hr>
<h3 id="著色器配置"><a href="#著色器配置" class="headerlink" title="著色器配置"></a>著色器配置</h3><p>著色器，又名濾鏡，可透過改變畫面的特徵，來形成特殊的視覺效果。</p>
<p>J2ME-Loader 的分支 JL-Mod 也支援這個功能，不過僅兼容 PPSSPP的著色器，且效果難言。<br>在透過『模擬』的手段 <strong>懷舊</strong> 時，設法 <strong>還原在真機上的視覺</strong> 效果絕對不是一件壞事。</p>
<p>在這一章節，因為個人對著色器參數屬實一竅不通，所以我僅會推薦一款最喜歡的點陣著色器。</p>
<blockquote>
<p><strong>推薦著色器</strong><br>脑浆油条 開發的 『荧光点滤镜』<br>相關影片：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV16s4y1T7Qa">https://www.bilibili.com/video/BV16s4y1T7Qa</a><br>下載連結在影片簡介處，安裝方式請參考連結内的 <code>Readme_v3.3.txt</code></p>
</blockquote>
<p>現在，隨意打開一個 JAR 檔，然後按下 <code>F1</code> 鍵呼出  RetroArch 系統選單。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">系統選單</span><br><span class="line">├── 繼續</span><br><span class="line">├── 重開</span><br><span class="line">├── 關閉</span><br><span class="line">├── 核心選項</span><br><span class="line">├── 控制器（核心預設）</span><br><span class="line">├── 熒幕覆蓋</span><br><span class="line">└── 著色器</span><br></pre></td></tr></table></figure>
<p>選擇『著色器』，打開『開啟著色器』，並『載入配置』：<br>配置路徑：<code>shaders\shaders_slang\phosphor-dot v3.3\Dot-clear.slangp</code></p>
<p>配置載入完成後，選擇『儲存預設』，並『儲存為核心著色器』。<br>在『應用變化』後，回到遊戲即可發現畫面蒙上一層立體感點陣，但是畫面並為因此變暗失真。</p>
<hr>
<h3 id="覆蓋層配置"><a href="#覆蓋層配置" class="headerlink" title="覆蓋層配置"></a>覆蓋層配置</h3><p>覆蓋層（遮罩）是一種提供 <strong>視覺增强</strong> &amp; <strong>触控操作</strong> 的方式。<br>在 FreeJ2ME-Plus 的使用场景中，则以『视觉增强』为主。[^15]</p>
<p>在本章節，我們將學習 <strong>使用</strong> 並<strong>制作</strong>自己的覆蓋層。<br>在開始前，我會提供一些自己製作的 <strong>半成品</strong> 覆蓋層以供練習。</p>
<h4 id="下載覆蓋層"><a href="#下載覆蓋層" class="headerlink" title="下載覆蓋層"></a>下載覆蓋層</h4><p><strong>128x128</strong>：<a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/RetroArch/Overlays/FreeJ2ME_7260.png">FreeJ2ME_7260.png</a> <a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/RetroArch/Overlays/FreeJ2ME_7260.cfg">FreeJ2ME_7260.cfg</a><br><strong>128x160</strong>：未製作<br><strong>176x208</strong>：<a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/RetroArch/Overlays/FreeJ2ME_N72.png">FreeJ2ME_N72.png</a> <a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/RetroArch/Overlays/FreeJ2ME_N72.cfg">FreeJ2ME_N72.cfg</a><br><strong>240x320</strong>：<a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/RetroArch/Overlays/FreeJ2ME_5310XM.png">FreeJ2ME_5310XM.png</a> <a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/RetroArch/Overlays/FreeJ2ME_5310XM.cfg">FreeJ2ME_5310XM.cfg</a><br><strong>640x360</strong>：<a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/RetroArch/Overlays/FreeJ2ME_E700.png">FreeJ2ME_E700.png</a> <a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/RetroArch/Overlays/FreeJ2ME_E700.cfg">FreeJ2ME_E700.cfg</a></p>
<p>覆蓋層由兩部分構成：<strong>CFG</strong>配置檔 和 <strong>PNG</strong>貼圖層<br>下載完成後，為了方便管理，我們將其移動至 <code>overlay/FreeJ2ME</code> 路徑下，你也可以根據自己的習慣來分配路徑。</p>
<p><em>Tip: 請注意：它們僅無限適配 16:9 的熒幕，若需其他，請自行改圖。</em></p>
<h4 id="使用覆蓋層"><a href="#使用覆蓋層" class="headerlink" title="使用覆蓋層"></a>使用覆蓋層</h4><p>本貼文依舊以最常見的 QVGA 遊戲為例。<br>打開一個隨意的 QVGA 遊戲，按下 <code>F1</code> 鍵呼出  RetroArch 系統選單。</p>
<p>选择『螢幕覆蓋』：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">系統選單</span><br><span class="line">├── 繼續</span><br><span class="line">├── 重開</span><br><span class="line">├── 關閉</span><br><span class="line">├── 核心選項</span><br><span class="line">├── 控制器（核心預設）</span><br><span class="line">├── 熒幕覆蓋</span><br><span class="line">│   ├── 開啟熒幕覆蓋</span><br><span class="line">│   ├── 載入覆蓋元件</span><br><span class="line">│   ├── 在選單後顯示覆蓋</span><br><span class="line">│   ├── 橫向縮放大小</span><br><span class="line">│   ├── 橫向寬度調整</span><br><span class="line">│   ├── 橫向水平偏移</span><br><span class="line">│   └── 橫向垂直偏移</span><br><span class="line">└── ……</span><br></pre></td></tr></table></figure>

<p><strong>開啟熒幕覆蓋</strong>：覆蓋層開關。在外部修改覆蓋層配置時，可透過此刷新覆蓋層狀態<br><strong>載入覆蓋元件</strong>：載入覆蓋層配置檔<br><strong>在選單後顯示覆蓋</strong>：預設下，覆蓋層不在選單開啟時出現。開啟此選項有助於微調覆蓋層的位置<br><strong>橫向縮放大小</strong>：控制覆蓋層的整體縮放<br><strong>橫向寬度調整</strong>：控制覆蓋層的寬度縮放<br><strong>橫向水平偏移</strong>：設定覆蓋層的左右位置<br><strong>橫向垂直偏移</strong>：設定覆蓋層的上下位置<a href="%E7%86%92%E5%B9%95%E6%98%AF%E6%A9%AB%E5%90%91%E6%99%82%EF%BC%8C%E8%AA%BF%E6%95%B4%E3%80%8E%E7%AB%AA%E5%90%91%E3%80%8F%E5%8F%83%E6%95%B8%E6%98%AF%E7%84%A1%E6%95%88%E7%9A%84">^16</a></p>
<p>使用覆蓋層只需『載入覆蓋元件』，我們打開的是 QVGA 遊戲，所以需要載入 <code>FreeJ2ME_5310XM.cfg</code>。<br>載入完成后，開啟『在選單後顯示覆蓋』，使用『縮放大小』+『寬度調整』微調其位置即可——因為即使比例正確，RetroArch 加載的覆蓋層出現拉伸形變也是常態。</p>
<p>RetroArch 的窗口大小會在打開&#x2F;關閉遊戲的時候變化，即便是直接修改配置檔，系統也會强行修正或者出現窗口位移……我的心得是不要輕易變動這些設定。當然，如果你喜歡全螢幕遊戲，那麽這將不是問題。</p>
<p>如果覆蓋層移動精度過低，無法和遊戲畫面嚴絲合縫，那麽可以嘗試位移遊戲畫面：</p>
<p><code>F1</code> 呼出選單，『返回』主選單，選擇『顯示』-『縮放』：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">顯示</span><br><span class="line">├── 縮放</span><br><span class="line">│   ├── 整數縮放</span><br><span class="line">│   ├── 自訂水平位置</span><br><span class="line">│   ├── 自訂垂直位置</span><br><span class="line">│   └── ……</span><br><span class="line">├── 同步</span><br><span class="line">└── ……</span><br></pre></td></tr></table></figure>

<p>使用『自訂水平&#x2F;垂直位置』可以像素級的去微調遊戲畫面的位置。<br>這個設定不可被濫用，會破壞遊戲畫面和 PC 熒幕的對稱視覺觀感。</p>
<p>使覆蓋層與遊戲畫面緊密貼合後，返回當前運行遊戲的選單，將其存儲為『路徑專用主題』。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">系統選單</span><br><span class="line">├── 繼續</span><br><span class="line">├── 重開</span><br><span class="line">├── 關閉</span><br><span class="line">├── 核心選項</span><br><span class="line">├── 控制器（核心預設）</span><br><span class="line">├── 熒幕覆蓋</span><br><span class="line">└── 專用主題</span><br></pre></td></tr></table></figure>

<p>現在，QVGA 路徑下的遊戲均可享受到 5310XM 的覆蓋層。</p>
<p>在將其存儲為『路徑專用主題』時，在 <code>config</code> 下會生成一個 <code>QVGA.cfg</code> 的配置檔。</p>
<p>我們在遊戲之中 <strong>修改</strong> + <strong>保存</strong> 各種配置時，修改的參數會自動完善該路徑配置檔。這非常重要，請妥善備份該路徑。</p>
<h4 id="製作覆蓋層"><a href="#製作覆蓋層" class="headerlink" title="製作覆蓋層"></a>製作覆蓋層</h4><p>覆蓋層分為兩部分：<strong>CFG</strong> 配置檔 和 <strong>PNG</strong> 貼圖層</p>
<p>我們先從 PNG 貼圖層開始。</p>
<h5 id="PNG-貼圖層"><a href="#PNG-貼圖層" class="headerlink" title="PNG 貼圖層"></a>PNG 貼圖層</h5><p>如果你有設計功底，可以自己繪製外殼；<br>如果你有建模功底，可以自己建模並出渲染圖。</p>
<p>這樣製作出的仿真覆蓋層是高精度的。</p>
<p>如果你不想花費這個時間，可以在網路上以『Nokia』為關鍵詞檢索圖像。[^17]<br>我們需要的圖像需要滿足『正視圖』與『非實拍』兩個條件。</p>
<p>獲得圖像後，打開 PhotoShop，新建一個和你 RetroArch 窗口大小一致的畫布，將素材拖進去、摳除熒幕、打光、增强材質，最後快速導出 PNG 檔。</p>
<p>這不是 PhotoShop 教程，所以非常簡略。如果你有相關經驗，歡迎留言。</p>
<h5 id="CFG-配置檔-簡要"><a href="#CFG-配置檔-簡要" class="headerlink" title="CFG 配置檔-簡要"></a><strong>CFG</strong> 配置檔-簡要</h5><p>我們可以使用隨意的文本編輯器編輯 <code>CFG</code> 檔。</p>
<p>這是一個 <code>CFG</code> 檔的最簡形態：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">overlays</span> <span class="string">=</span> <span class="number">1</span></span><br><span class="line"><span class="comment"># 覆蓋層數量為『1』</span></span><br><span class="line"></span><br><span class="line"><span class="string">overlay0_overlay</span> <span class="string">=</span> <span class="string">FreeJ2ME_N72.png</span></span><br><span class="line"><span class="comment"># 載入同路徑下的『FreeJ2ME_N72.png』為底圖</span></span><br><span class="line"></span><br><span class="line"><span class="string">overlay0_full_screen</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 拉伸覆蓋層至全熒幕，必須使用，否則覆蓋層只會在遊戲畫面中顯示</span></span><br><span class="line"></span><br><span class="line"><span class="string">overlay0_descs</span> <span class="string">=</span> <span class="number">0</span></span><br><span class="line"><span class="comment"># 覆蓋層中有『0』個可觸控按鈕，默認即可</span></span><br><span class="line"></span><br><span class="line"><span class="string">overlay0_opacity</span> <span class="string">=</span> <span class="number">1.0</span></span><br><span class="line"><span class="comment"># 覆蓋層的不透明度為『1.0』，即『100%』</span></span><br></pre></td></tr></table></figure>

<p>這個配置檔的主要作用是幫助我們 <strong>找到覆蓋層的位置</strong>。<br>在下文中，我們將深入編輯該覆蓋層，為其添加觸控支援。</p>
<h5 id="CFG-配置檔-觸控"><a href="#CFG-配置檔-觸控" class="headerlink" title="CFG 配置檔-觸控"></a><strong>CFG</strong> 配置檔-觸控</h5><p>如果你使用支援觸摸的 Windows &#x2F; Linux 設備，那麽觸控覆蓋層會十分有用。</p>
<p>唯一需要注意的是，既然已經使用了支援觸控的設備，那麽手把所帶來的『按鍵感』將不再是這種模擬手段的優勢……我相信你明白這一點。</p>
<p>觸控參數的詳細寫法在 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.libretro.com/development/retroarch/input/overlay/">Libretro Docs</a>，而大部分參數均可透過一個開源專案自動生成：</p>
<p><strong>RetroArch Overlay Editor</strong>：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/meepingsnesroms/RetroArchOverlayEditor">Github</a> | <a target="_blank" rel="noopener external nofollow noreferrer" href="https://valent-in.github.io/retropad-editor/">Online</a></p>
<p>這裡將以 Github 的發行版為例，先簡要介紹主要的選單功能。</p>
<h6 id="選單簡介"><a href="#選單簡介" class="headerlink" title="選單簡介"></a>選單簡介</h6><p><strong>Files</strong><br>New：新建配置檔<br>Open：打開配置檔<br>Save：保存配置檔<br>Save As：另村配置檔</p>
<p><strong>Actions</strong><br>Set Canvas Size：設定畫布尺寸，單位為 <code>Px</code><br>Set &#x2F; Remove Layer image：設定&#x2F;清除 底圖，在參數中表示為 <code>overlay0_overlay = XXX.png</code><br>Add&#x2F;Delete Layer：添加&#x2F;刪除圖層，這基本不會在教學中使用<br>Add Button：添加按鈕，按鈕名對應下表中的『配置按鍵』，<strong>前提是使用和我相同的映射</strong><br>Add Joystick：添加搖桿，搖桿的鍵值未知，這基本不會在教學中使用<br>Delete Object：刪除選中的 按鈕 &#x2F; 搖桿<br>Set Object Name&#x2F;Image：設定 按鈕 &#x2F; 搖桿 的 按鈕名 和 顯示圖像<br>Remove Object Image 清除 按鈕 &#x2F; 搖桿 的圖像<br>Set Circular&#x2F;Square Object：設定 按鈕 &#x2F; 搖桿 的觸控範圍為 圓形 &#x2F; 方形</p>
<h6 id="第一個按鈕"><a href="#第一個按鈕" class="headerlink" title="第一個按鈕"></a>第一個按鈕</h6><ol>
<li>『Open』一個已有的配置檔；</li>
<li>『Add Button』，創建一個按鈕層；</li>
<li>使用游標選中按鈕層，『Set Object Name』為『y』；</li>
<li>『Set Object Image』，為該按鈕設定顯示圖像；</li>
<li>使用游標選中按鈕層至適合的位置，至此一個 <code>OK</code> 鍵創建完成。</li>
</ol>
<p>這個按鈕的參數如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">overlay0_desc0 = &quot;y,0.234671,0.453938,rect,0.05,0.05&quot;</span><br><span class="line"></span><br><span class="line"># overlay0_desc0：該圖層上的第一個按鍵</span><br><span class="line"># y：鍵位名，對應了 Xbox360 上的『A』，按鍵手機上的『OK』</span><br><span class="line"># 0.234671,0.453938：按鈕位置</span><br><span class="line"># rect：矩形判定</span><br><span class="line"># 0.05,0.05：按鈕大小</span><br></pre></td></tr></table></figure>

<h6 id="其他參數和心得"><a href="#其他參數和心得" class="headerlink" title="其他參數和心得"></a>其他參數和心得</h6><p>過去玩 JAR 基本使用按鍵手機，學會如何編輯按鈕便已足夠。</p>
<p>虛擬按鈕不僅可以觸控，在實體按鈕按下時，也會有對應的視覺反饋。<br>按鈕的視覺反饋本質上是『圖像的切換』，當你按下代表『左軟鍵』的按鈕時，其貼圖會閃爍，從而露出貼圖下『底圖上的左軟鍵』。所以——<strong>在設計時，可以考慮使按鈕貼圖的透明度降低至一個合理的閾值，或是在不影響全局的情況下降低其色澤</strong>。這樣在手把上按下對應的鍵時，熒幕上虛擬按鈕的反饋會更有力量感。</p>
<p>使用 <code>Alpha</code> 參數也可控制覆蓋層按鈕在按下時的發光：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">overlay0_alpha_mod = 2</span><br><span class="line"># 『2』代表按鈕的 Alpha 值乘以 2。</span><br><span class="line"># 一張圖的 Alpha 值越大，圖片在視覺上便越『亮』。</span><br></pre></td></tr></table></figure>

<h6 id="鍵值對應表"><a href="#鍵值對應表" class="headerlink" title="鍵值對應表"></a>鍵值對應表</h6><p>這是一份鍵值對應表，如果你想寫配置檔，那麽它將是一個不錯的的參考。</p>
<p>如果將按鈕映射為『2-4-6-8』，那麽，沒有一個參數可用於配置檔——換言之，FreeJ2ME-Plus 中『2-4-6-8』的鍵值并不被 RetroArch 的覆蓋層參數所支援！</p>
<p>如果你有興趣，研究並檢查 <code>input_config_bind_map</code> 變數中的按鈕名：<br><strong>游戲手把&#x2F;光槍</strong>：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/libretro/RetroArch/blob/master/configuration.c">Github&#x2F;RetroArch&#x2F;blob&#x2F;master&#x2F;configuration.c</a><br><strong>PC 鍵盤</strong>：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/libretro/RetroArch/blob/master/input/input_keymaps.c">Github&#x2F;RetroArch&#x2F;blob&#x2F;master&#x2F;input&#x2F;input_keymaps.c</a></p>
<table>
<thead>
<tr>
<th>手機 按鍵</th>
<th>XBox360 按鍵</th>
<th>配置 按鍵</th>
</tr>
</thead>
<tbody><tr>
<td>OK</td>
<td>A</td>
<td>y</td>
</tr>
<tr>
<td>RS</td>
<td>B</td>
<td>start</td>
</tr>
<tr>
<td>LS</td>
<td>Back</td>
<td>select</td>
</tr>
<tr>
<td>0</td>
<td>start</td>
<td>x</td>
</tr>
<tr>
<td>1</td>
<td>LT</td>
<td>l1</td>
</tr>
<tr>
<td>3</td>
<td>RT</td>
<td>r1</td>
</tr>
<tr>
<td>7</td>
<td>X</td>
<td>b</td>
</tr>
<tr>
<td>9</td>
<td>Y</td>
<td>a</td>
</tr>
<tr>
<td>*</td>
<td>LB</td>
<td>l2</td>
</tr>
<tr>
<td>#</td>
<td>RB</td>
<td>r2</td>
</tr>
<tr>
<td>UP</td>
<td>LJoy UP</td>
<td>up</td>
</tr>
<tr>
<td>DOWN</td>
<td>LJoy DOWN</td>
<td>down</td>
</tr>
<tr>
<td>LEFT</td>
<td>LJoy LEFT</td>
<td>left</td>
</tr>
<tr>
<td>RIGHT</td>
<td>LJoy RIGHT</td>
<td>right</td>
</tr>
<tr>
<td>2-4-6-8</td>
<td>D-Pad</td>
<td>？</td>
</tr>
</tbody></table>
<p>[^17]: 在網路上尋找 3D 模型並自主渲染是最好的</p>
<hr>
<h2 id="音源-字體"><a href="#音源-字體" class="headerlink" title="音源&#x2F;字體"></a>音源&#x2F;字體</h2><h3 id="自訂音源"><a href="#自訂音源" class="headerlink" title="自訂音源"></a>自訂音源</h3><p>J2ME 標准的 JAR 檔普遍使用『MID』為背景音樂、『WAV』或『AMR』為音效。</p>
<p>相較於『WAV』或『AMR』，『MID』不包含任何聲音流，只包含播放指令。如：在何時 &#x2F; 使用何種樂器 &#x2F; 演奏何種旋律。<br>為了播放此類文件，SoundFont 成為了『MID』的實際發聲體。這是一種包含各種樂器音色的樣本庫，決定了每一種樂器在 MIDI 下所發出的聲音質感與風格。</p>
<p>SoundFont 在各個品牌，乃至各種型號之間的音色都各不相同，這也是我們在現今設備上模擬 JAR 時會發覺音色『古怪』的原因。</p>
<p><em>Tip：不過——現今 Android 設備所擕帶的 SoundFont 屬實糟糕。</em></p>
<p>在 FreeJ2ME-Plus 中，我們可以自訂 MIDI 的 <code>.SF2</code> 音源。<br>J2ME-Loader 的 Fork <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/woesss/JL-Mod">JL-Mod</a> 也支援自訂 <code>.SF2</code>，這裡便不再細講。</p>
<h4 id="音源推薦"><a href="#音源推薦" class="headerlink" title="音源推薦"></a>音源推薦</h4><ul>
<li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://musical-artifacts.com/artifacts/1625">Nokia_Lloyd_Bank</a><br>優勢：鼓點清脆，聲場感強<br>劣勢：部分樂器聲道不均，古典樂器較為尖銳</p>
</li>
<li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://musical-artifacts.com/artifacts/2351">Sony Ericsson SF2 Version 1.0.3</a><br>優勢：聲道均匀<br>劣勢：無明顯劣勢</p>
</li>
</ul>
<h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><p>在運行 FreeJ2ME-Plus 核心後，RetroArch 的 <code>system</code> 下會生成 <code>freej2me_system/customMIDI</code> 路徑，我們將下載好的 .SF2 檔放在此處，並在核心設定中將『自訂 MIDI 音源』設為『自訂』即可。</p>
<p><em>Tip：SF2 音源不宜過大，最好能夠限制在 5MB 之内，超過這個值將對游戲的流暢性造成影響。</em></p>
<h3 id="自訂字體"><a href="#自訂字體" class="headerlink" title="自訂字體"></a>自訂字體</h3><p>這是一個實驗性的功能，我使用 Claude 3.5s 修改了 FJ-Plus 的原始碼並將其編譯。<br>在 FJ-Plus 的 issue 中，我提出了這個可能性，並共享了修改的檔案，專案維護者 AShiningRay 先生表示這個功能會在未來得到實現。</p>
<p>如果您想體驗這個功能，請下載我的編譯檔。當然，因為專案提交的活躍度非常高，頻繁時每日都有新的 Fix，所以我的編譯檔極有可能是 <strong>過時</strong> 的。<br>最好的方式，是提供編譯前所修改的原始碼，在獲得其之後自行編譯，一勞永逸。</p>
<p>請注意，這始終是一項非官方的實驗性功能！<br>如果使用，請自行為設備可能出現的各種問題負責。</p>
<p>如果未來官方實現該功能，那麽這個小節將會被修改。</p>
<p><a target="_blank" rel="noopener" href="https://magstic.top/Sitemedia/OldPhone/FJ-Plus%20%E8%87%AA%E4%BD%9C%E8%A3%9C%E4%B8%81.zip">FJ-Plus 自作補丁，以及編譯好的核心和核心依賴檔</a></p>
<h4 id="使用方式-1"><a href="#使用方式-1" class="headerlink" title="使用方式"></a>使用方式</h4><p>支援的字體格式：<code>ttf</code> <code>otf</code> <code>ttc</code>。<br>在 <code>freej2me_system</code> 資料夾內建立 <code>font</code> 資料夾，將外掛字體放在其中即可。</p>
<h4 id="推薦字體"><a href="#推薦字體" class="headerlink" title="推薦字體"></a>推薦字體</h4><ul>
<li>蘋方中等體<br>特點：字型筆劃粗細均匀，在 240+ 的解析度下有不错的表現</li>
<li>青鳥華光淡古印<br>特點：平滑優雅，適合在古典場景下使用，适合  240+ 解析度</li>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Warren2060">寒蟬圓體</a><br>特點：圓潤平滑，在 240+ 的解析度下有不错的表現</li>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://unifoundry.com/unifont/index.html">Unifont</a><br>特點：像素字型的巔峰，在 240+ 的解析度下有不错的表現</li>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/TakWolf/fusion-pixel-font">Fusion Pixel Font</a><br>特點：10px 和 12px 的字型，在 128 和 176 解析度的情景下接近完美！</li>
</ul>
<p>這些字體不是最完美的，但均是我在測試各個解析度後得出的最佳選擇。<br>現在的模擬器均普遍存在字型縮放問題，即便是使用點陣字型，也無法還原實機的視覺體驗。</p>
<p>非標注連結的字體需商業授權，如果想使用這些字體製作影片，望斟酌再行。</p>
<h2 id="結尾"><a href="#結尾" class="headerlink" title="結尾"></a>結尾</h2><p>這篇貼文終於結束了，是的，終於結束。<br>現在反而沒有什麽想説的，因為精力都放在貼文的内容上。<br>貼文的創作動機……大概是推薦一種玩 J2ME 的新的方式。</p>
<p>我接觸 RetroArch 大約有三個月了，初衷只是想玩 SFC 和 GBA。<br>兩個月前，在 Emulation Wiki 閑逛時，無意間發現了一款 J2ME 核心，沒錯，就是本文介紹的 FreeJ2ME-Plus。</p>
<p>對於 J2ME 核心，RetroArch 的官方核心列表中其實有一個：SquirrelJME。不過現在的它只是一個什麽都無法打開的半成品，而且這種狀況已經好幾年了……這種研究半天後鎩羽而歸的失落感，直至現在還記得。</p>
<p>『哇哦，FreeJ2ME-Plus 居然可以工作耶！？』大概這就是發現這款核心時的心情吧（笑）。</p>
<p>這款核心并不完美，但 AShiningRay 先生的活躍維護，總能令人看到未來有著無窮的希望。</p>
<p>貼文的編輯已經許多時間，許多内容已經碎片到無法記清……如果有謬誤，請多多指正，謝謝你。</p>
<h2 id="畫廊"><a href="#畫廊" class="headerlink" title="畫廊"></a>畫廊</h2><p>我不喜歡在貼文中使用圖像，這樣會使版面變得臃腫。<br>這會降低閲讀體驗……我明白。但對教程向的貼文而言，這是一種雙向選擇。<br>私以為教程，便是能夠提供『教』，而閱讀之人則願意『學』。<br>——況且，我認為自己寫已經非常詳細（笑）。</p>
<p>閑話少叙。<br>這是畫廊，我會在這裡貼上一些模擬的效果展示 : )</p>
<h2 id="參見"><a href="#參見" class="headerlink" title="參見"></a>參見</h2><p>FreeJ2ME-Plus：<br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/TASEmulators/freej2me-plus">https://github.com/TASEmulators/freej2me-plus</a><br>Emulation Wiki - J2ME：<br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://emulation.gametechwiki.com/index.php/Cellphone_emulators#Java_2_Micro_Edition_.28J2ME.29">https://emulation.gametechwiki.com/index.php/Cellphone_emulators#Java_2_Micro_Edition_.28J2ME.29</a><br>Libretro Docs：<br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.libretro.com/guides/libretro-overlays/">https://docs.libretro.com/guides/libretro-overlays/</a><br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.libretro.com/development/retroarch/input/overlay/">https://docs.libretro.com/development/retroarch/input/overlay/</a></p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/J2ME/">J2ME</a></div><div class="post_share"><div class="social-share" data-image="https://magstic.top/Aojiru/name/052mokou3%E3%80%8C%E8%97%A4%E5%8E%9F%E3%80%8C%E6%BB%85%E7%BD%AA%E5%AF%BA%E9%99%A2%E5%82%B7%E3%80%8D%E3%80%8D.jpg" data-sites="facebook,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2025/04/16/09/" title="JAR 在 Nokia 上的異常處理"><img class="cover" src="https://magstic.top/Aojiru/name/052mokou3%E3%80%8C%E8%97%A4%E5%8E%9F%E3%80%8C%E6%BB%85%E7%BD%AA%E5%AF%BA%E9%99%A2%E5%82%B7%E3%80%8D%E3%80%8D.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JAR 在 Nokia 上的異常處理</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/2025/04/16/09/" title="JAR 在 Nokia 上的異常處理"><img class="cover" src="https://magstic.top/Aojiru/name/052mokou3%E3%80%8C%E8%97%A4%E5%8E%9F%E3%80%8C%E6%BB%85%E7%BD%AA%E5%AF%BA%E9%99%A2%E5%82%B7%E3%80%8D%E3%80%8D.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-15</div><div class="title">JAR 在 Nokia 上的異常處理</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 評論</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://magstic.art/images/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Magstic</div><div class="author-info__description">聆听自然之風</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">3</div></a></div><a id="card-info-btn" href="mailto:mastic.cn@gmail.com" rel="external nofollow noreferrer"><i class="fab fa-google"></i><span>Gmail</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">資料庫維護完畢，<br>請清理本站快取和Cookie。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A2%BA%E8%AA%8D%E9%9C%80%E6%B1%82"><span class="toc-number">1.</span> <span class="toc-text">確認需求</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BA%96%E5%82%99%E7%92%B0%E5%A2%83"><span class="toc-number">2.</span> <span class="toc-text">準備環境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B7%A8%E8%AD%AF%E6%A0%B8%E5%BF%83"><span class="toc-number">3.</span> <span class="toc-text">編譯核心</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B7%A8%E8%AD%AF-FreeJ2ME-Jar"><span class="toc-number">3.1.</span> <span class="toc-text">編譯 FreeJ2ME Jar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B7%A8%E8%AD%AF-Libretro-%E6%A0%B8%E5%BF%83"><span class="toc-number">3.2.</span> <span class="toc-text">編譯 Libretro 核心</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%9D%E8%BC%89%E6%A0%B8%E5%BF%83"><span class="toc-number">4.</span> <span class="toc-text">裝載核心</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%AF%E5%85%A5%E9%81%8A%E6%88%B2"><span class="toc-number">5.</span> <span class="toc-text">匯入遊戲</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E7%90%86-JAR-%E6%AA%94"><span class="toc-number">5.1.</span> <span class="toc-text">管理 JAR 檔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%96%8B%E5%A7%8B%E6%8E%83%E6%8F%8F"><span class="toc-number">5.2.</span> <span class="toc-text">開始掃描</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%83%E6%95%B8%E9%85%8D%E7%BD%AE"><span class="toc-number">6.</span> <span class="toc-text">參數配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">6.1.</span> <span class="toc-text">控制配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE"><span class="toc-number">6.2.</span> <span class="toc-text">核心配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B8%AE%E6%94%BE%E9%85%8D%E7%BD%AE"><span class="toc-number">6.3.</span> <span class="toc-text">縮放配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#QVGA"><span class="toc-number">6.3.1.</span> <span class="toc-text">QVGA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%A7%A3%E6%9E%90%E5%BA%A6"><span class="toc-number">6.3.2.</span> <span class="toc-text">其他解析度</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%91%97%E8%89%B2%E5%99%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">6.4.</span> <span class="toc-text">著色器配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%86%E8%93%8B%E5%B1%A4%E9%85%8D%E7%BD%AE"><span class="toc-number">6.5.</span> <span class="toc-text">覆蓋層配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BC%89%E8%A6%86%E8%93%8B%E5%B1%A4"><span class="toc-number">6.5.1.</span> <span class="toc-text">下載覆蓋層</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%A6%86%E8%93%8B%E5%B1%A4"><span class="toc-number">6.5.2.</span> <span class="toc-text">使用覆蓋層</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A3%BD%E4%BD%9C%E8%A6%86%E8%93%8B%E5%B1%A4"><span class="toc-number">6.5.3.</span> <span class="toc-text">製作覆蓋層</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#PNG-%E8%B2%BC%E5%9C%96%E5%B1%A4"><span class="toc-number">6.5.3.1.</span> <span class="toc-text">PNG 貼圖層</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#CFG-%E9%85%8D%E7%BD%AE%E6%AA%94-%E7%B0%A1%E8%A6%81"><span class="toc-number">6.5.3.2.</span> <span class="toc-text">CFG 配置檔-簡要</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#CFG-%E9%85%8D%E7%BD%AE%E6%AA%94-%E8%A7%B8%E6%8E%A7"><span class="toc-number">6.5.3.3.</span> <span class="toc-text">CFG 配置檔-觸控</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%81%B8%E5%96%AE%E7%B0%A1%E4%BB%8B"><span class="toc-number">6.5.3.3.1.</span> <span class="toc-text">選單簡介</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E5%80%8B%E6%8C%89%E9%88%95"><span class="toc-number">6.5.3.3.2.</span> <span class="toc-text">第一個按鈕</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%8F%83%E6%95%B8%E5%92%8C%E5%BF%83%E5%BE%97"><span class="toc-number">6.5.3.3.3.</span> <span class="toc-text">其他參數和心得</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%8D%B5%E5%80%BC%E5%B0%8D%E6%87%89%E8%A1%A8"><span class="toc-number">6.5.3.3.4.</span> <span class="toc-text">鍵值對應表</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E6%BA%90-%E5%AD%97%E9%AB%94"><span class="toc-number">7.</span> <span class="toc-text">音源&#x2F;字體</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E8%A8%82%E9%9F%B3%E6%BA%90"><span class="toc-number">7.1.</span> <span class="toc-text">自訂音源</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9F%B3%E6%BA%90%E6%8E%A8%E8%96%A6"><span class="toc-number">7.1.1.</span> <span class="toc-text">音源推薦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">7.1.2.</span> <span class="toc-text">使用方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E8%A8%82%E5%AD%97%E9%AB%94"><span class="toc-number">7.2.</span> <span class="toc-text">自訂字體</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F-1"><span class="toc-number">7.2.1.</span> <span class="toc-text">使用方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A8%E8%96%A6%E5%AD%97%E9%AB%94"><span class="toc-number">7.2.2.</span> <span class="toc-text">推薦字體</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B5%90%E5%B0%BE"><span class="toc-number">8.</span> <span class="toc-text">結尾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%95%AB%E5%BB%8A"><span class="toc-number">9.</span> <span class="toc-text">畫廊</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%83%E8%A6%8B"><span class="toc-number">10.</span> <span class="toc-text">參見</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/04/22/10/" title="在 RetroArch 上遊玩 JAR 的心得"><img src="https://magstic.top/Aojiru/name/052mokou3%E3%80%8C%E8%97%A4%E5%8E%9F%E3%80%8C%E6%BB%85%E7%BD%AA%E5%AF%BA%E9%99%A2%E5%82%B7%E3%80%8D%E3%80%8D.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在 RetroArch 上遊玩 JAR 的心得"/></a><div class="content"><a class="title" href="/2025/04/22/10/" title="在 RetroArch 上遊玩 JAR 的心得">在 RetroArch 上遊玩 JAR 的心得</a><time datetime="2025-04-21T22:59:28.000Z" title="發表於 2025-04-21 22:59:28">2025-04-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/16/09/" title="JAR 在 Nokia 上的異常處理"><img src="https://magstic.top/Aojiru/name/052mokou3%E3%80%8C%E8%97%A4%E5%8E%9F%E3%80%8C%E6%BB%85%E7%BD%AA%E5%AF%BA%E9%99%A2%E5%82%B7%E3%80%8D%E3%80%8D.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JAR 在 Nokia 上的異常處理"/></a><div class="content"><a class="title" href="/2025/04/16/09/" title="JAR 在 Nokia 上的異常處理">JAR 在 Nokia 上的異常處理</a><time datetime="2025-04-15T16:34:28.000Z" title="發表於 2025-04-15 16:34:28">2025-04-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Magstic</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直達評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://windream.netlify.app/.netlify/functions/twikoo',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://windream.netlify.app/.netlify/functions/twikoo',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.textContent = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜尋</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  資料庫載入中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>